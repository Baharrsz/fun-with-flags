(this.webpackJsonpflags=this.webpackJsonpflags||[]).push([[0],{149:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(73),o=a.n(r),c=(a(80),a(75)),l=a(21),i=a(22),u=a(24),m=a(23),p=a(42),h=a.n(p);function d(e){var t=e.announce,a=e.announceClass,n=e.removeAnnounceClass,r=e.src,o=e.flagClass,c=e.current,l=e.currentScoreClass,i=e.total,u=e.totalScoreClass,m=e.handleScoreAnimationStop,p=e.count,h=e.countClass,d=e.allGamesNum;return s.a.createElement("div",{className:"display"},s.a.createElement(g,{announce:t,extraClass:a,removeClass:n}),s.a.createElement(_,{src:r,flagClass:o}),s.a.createElement(C,{score:c,type:"current-score",extraClass:l,handleAnimationStop:m}),s.a.createElement(C,{score:i,type:"total-score",extraClass:u,handleAnimationStop:m}),s.a.createElement(C,{score:p,type:"correct-guesses",extraClass:h,handleAnimationStop:m,allGamesNum:d}))}function g(e){var t=e.announce,a=e.extraClass,n=e.removeClass;return s.a.createElement("div",{className:"display__item announce ".concat(a),onAnimationEnd:n},t)}function _(e){var t=e.src,a=e.flagClass;return s.a.createElement("div",{className:"flag"},s.a.createElement("img",{className:"display__item flag__img ".concat(a),src:t,alt:"flag"}))}function C(e){var t=e.score,a=e.type,n=e.extraClass,r=e.handleAnimationStop,o=e.allGamesNum;return o=o?s.a.createElement("label",{className:"score__label"},"\xa0 of \xa0",o):s.a.createElement(s.a.Fragment,null),s.a.createElement("div",{className:"display__item score score--".concat(a)},s.a.createElement("label",{className:"score__label"},a.replace("-"," ").toUpperCase()," \xa0\xa0"),s.a.createElement("span",{className:"score__content score__".concat(n),onAnimationEnd:r},t),o)}var y=a(74),f=a.n(y);a(148);function S(){return s.a.createElement("div",{className:"input__subsection input__subsection--instructions"},s.a.createElement("p",{className:"input__text input__text--or"},"OR"),s.a.createElement("p",{className:"input__text"},"Guess the continent, language or currency first."),s.a.createElement("p",{className:"input__text"},"(You will lose 5 points for each guess)"))}var b=function(e){var t=e.handleSubmit,a=e.inputVal,n=e.handleInputChange;return s.a.createElement("div",{className:"input__section input__section--features",name:"features"},s.a.createElement(S,null),s.a.createElement(O,{type:"continent",optionNames:["Asia","Africa","Americas","Europe","Oceania","Polar"],handleSubmit:t}),s.a.createElement(I,{type:"language",sectionType:"subsection",handleSubmit:t,inputVal:a.language,handleInputChange:n}),s.a.createElement(I,{type:"currency",sectionType:"subsection",handleSubmit:t,inputVal:a.currency,handleInputChange:n}))},v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={displayOptns:!1,optionsArr:[]},e.showOptions=function(){e.state.displayOptns||(e.setState({displayOptns:!0,optionsArr:A(e.props.country,e.props.countriesArray,e.state.optionsArr)}),e.props.changeScore(e.props.seeOptionsScore))},e.hideOptions=function(){return e.setState({displayOptns:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"input__section input__section--options"},s.a.createElement(E,{handleClick:this.showOptions}),s.a.createElement(N,{display:this.state.displayOptns,handleSubmit:this.props.handleSubmit,hideOptions:this.hideOptions,optionsArr:this.state.optionsArr}))}},{key:"componentDidUpdate",value:function(e){e.country!==this.props.country&&this.setState({displayOptns:!1})}}]),a}(n.Component);function E(e){var t=e.handleClick;return s.a.createElement("div",{className:"input__subsection input__subsection--instructions"},s.a.createElement("p",{className:"input__text input__text--or"},"OR"),s.a.createElement("p",{className:"input__text"},"Choose from five options."),s.a.createElement("p",{className:"input__text"},"(You will lose 20 points)"),s.a.createElement("button",{className:"input__btn input__btn--expand",onClick:t,name:"options-btn",type:"button"},"Show Options"))}function N(e){var t=e.display,a=e.handleSubmit,n=e.hideOptions,r=e.optionsArr;return t?s.a.createElement("div",{className:"input__subsection input__subsection--options-guess"},s.a.createElement(O,{type:"country",optionNames:r,handleSubmit:a,hideOptions:n})):s.a.createElement(s.a.Fragment,null)}function A(e,t,a){var n=[e.name];if(a.length>0){var s=Math.floor(Math.random()*a.length);s===a.indexOf(e.name)&&(s=(s+1)%(a.length-1)),n.unshift(a[s])}for(var r=n.length,o=1;o<=5-r;o++){var c=Math.floor(Math.random()*t.length);n.includes(t[c])?o--:n.unshift(t[c])}var l=Math.floor(4*Math.random()),i=[n[l],n[4]];return n[4]=i[0],n[l]=i[1],n}function w(e){var t=e.handleSubmit,a=e.country,n=e.countriesArray,r=e.handleGiveup,o=e.handleReset,c=e.changeScore,l=e.seeOptionsScore,i=e.inputVal,u=e.handleInputChange;return s.a.createElement("div",{className:"input"},s.a.createElement(I,{type:"country",sectionType:"section",handleSubmit:t,countriesArray:n,inputVal:i.country,handleInputChange:u}),s.a.createElement(b,{handleSubmit:t,inputVal:i,handleInputChange:u}),s.a.createElement(v,{handleSubmit:t,country:a,countriesArray:n,changeScore:c,seeOptionsScore:l}),s.a.createElement("div",{className:"input__btns input__section input__section--btns"},s.a.createElement("button",{className:"input__btn input__btn--giveup",type:"button",onClick:r},"Give Up"),s.a.createElement("button",{className:"input__btn input__btn--reset",type:"button",onClick:o},"Reset Game")))}function I(e){var t=e.type,a=e.sectionType,n=e.handleSubmit,r=e.countriesArray,o=e.inputVal,c=e.handleInputChange;return s.a.createElement("form",{className:"input__form input__written-input input__".concat(a," input__").concat(a,"--").concat(t),id:"".concat(t),onSubmit:n,autoComplete:"off"},s.a.createElement("label",{className:"input__title input__text"},"Guess the ",t,":"," ",s.a.createElement(f.a,{name:t,options:r,Component:"input",trigger:"",matchAny:!0,maxOptions:10,spacer:"",offsetY:15,passThroughEnter:!0,value:o,onChange:function(e){return c(e,t)}})),s.a.createElement("button",{className:"input__submitBtn"}))}function O(e){var t=e.type,a=e.optionNames,n=e.handleSubmit,r=e.hideOptions,o=a.map((function(e,a){return s.a.createElement("label",{className:"input__text input__option",key:a},s.a.createElement("input",{type:"radio",name:"".concat(t,"-options"),className:"input__radio",value:e}),e)}));return s.a.createElement("form",{className:"input__form input__subsection input__subsection--options",id:"".concat(t,"-options"),onSubmit:function(e){e.preventDefault(),n(e),setTimeout(r,50)}},s.a.createElement("label",{className:"input__title input__text"},"Choose the ",t,": "),s.a.createElement("div",{className:"input__options-group"},o),s.a.createElement("button",{className:"input__submitBtn"}))}function x(e){var t=e.toggleInstructions;return s.a.createElement("div",{className:"header"},s.a.createElement("h1",{className:"header__title"},s.a.createElement("span",{className:"header__title header__title--fun"},"Fun "),s.a.createElement("span",{className:"header__title header__title--with"},"With "),s.a.createElement("span",{className:"header__title header__title--flags"},"Flags ")),s.a.createElement("h3",{className:"header__subtitle"},"Guess which country the flag represents!"),s.a.createElement("button",{className:"header__btn",onClick:t}))}var k=function(e){var t=e.display,a=e.resetGame,n=e.hideCelebration;return t?s.a.createElement("div",{className:"celebration"},s.a.createElement("div",{className:"celebration__background",onClick:n}),s.a.createElement("div",{className:"celebration__dialogue dialogue"},s.a.createElement("div",{className:"dialogue__texts"},s.a.createElement("h1",{className:"dialogue__text dialogue__text--title"},"Congradulations!"),s.a.createElement("h2",{className:"dialogue__text dialogue__text--subtitle"},"You guessed all flags correctly!"),s.a.createElement("p",{className:"dialogue__text"},"Click 'Continue' to go back to the previous game,"),s.a.createElement("p",{className:"dialogue__text"},"or "),s.a.createElement("p",{className:"dialogue__text"},"start a new game")),s.a.createElement("div",{className:"dialogue__btns"},s.a.createElement("button",{className:"dialogue__btn",onClick:n},"Continue"),s.a.createElement("button",{className:"dialogue__btn",onClick:a},"New Game")))):s.a.createElement(s.a.Fragment,null)},G=a.p+"static/media/loading.70b4daea.svg";function V(){return s.a.createElement("div",{className:"loading"},s.a.createElement("img",{className:"loading__img",src:G,alt:"loading"}),s.a.createElement("h1",{className:"loading__text"},"Loading..."))}function F(e){var t=e.display,a=e.toggle;return t?s.a.createElement("div",{className:"instructions"},s.a.createElement("div",{className:"instructions__background",onClick:a}),s.a.createElement("div",{className:"instructions__main"},s.a.createElement("p",{className:"instructions__text"},"You have 100 points at each stage and will lose 10 points for each wrong answer. You'll go to the next level when you guess correctly."),s.a.createElement("p",{className:"instructions__text"},"If you are sure of your guess, yet it's not correct, it might be because the official name is different, or that the answer is another country which shares the same flag."),s.a.createElement("p",{className:"instructions__text"},"Negative scores are also possible."),s.a.createElement("p",{className:"instructions__text"},"The games you previously played are remembered until you reset the game or clear your browser's cache."))):s.a.createElement(s.a.Fragment,null)}function j(e,t){return"announce__animation--".concat(e," announce__").concat(e," announce__").concat(e,"--").concat(t)}var M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={countriesArray:void 0,country:void 0,guessed:localStorage.guessed&&JSON.parse(localStorage.guessed)||[],currentScore:100,currentScoreClass:"",totalScore:0,totalScoreClass:"",announce:null,announceClass:"",countryInputVal:"",languageInputVal:"",currencyInputVal:"",countClass:"",displayCelebration:!1,flagClass:"",optionsClass:"",displayInstructions:!1},n.getCountry=function(){for(var e;!e||n.state.guessed.length!==n.state.countriesArray&&n.state.guessed.indexOf(e)>=0;){var t=Math.floor(Math.random()*n.state.countriesArray.length);e=n.state.countriesArray[t]}h.a.get("https://restcountries.eu/rest/v2/name/".concat(e)).then((function(t){e=t.data[0],console.log(e),setTimeout((function(){return n.setState({country:e,announce:null,currentScore:100,flagClass:n.flagAnimationClassName[0]})}),n.newGameDelay)}))},n.handleSubmit=function(e){e.preventDefault();var t=e.target.id,a=e.target[t].value.toLowerCase();switch("country"!==t&&"language"!==t&&"currency"!==t||n.handleInputChange("",t),t){case"country":n.handleFinalGuess(a,!1);break;case"continent-options":n.handleFeatureGuess("continent",a);break;case"language":n.handleFeatureGuess("languages",a);break;case"currency":n.handleFeatureGuess("currencies",a);break;case"country-options":n.handleFinalGuess(a,!0);break;default:console.log("Something wrong with submission")}e.target.reset()},n.handleFinalGuess=function(e,t){var a=t?0:n.wrongGuessScore,s=t?"":n.scoreAnimationClassName[0];e===n.state.country.name.toLowerCase()||n.state.country.altSpellings.some((function(t,a){return 0!==a&&e===t.toLowerCase()}))?n.setState({currentScoreClass:n.scoreAnimationClassName[1],announce:"Yes!",announceClass:j("final","yes"),countClass:n.scoreAnimationClassName[0],guessed:[].concat(Object(c.a)(n.state.guessed),[n.state.country.name]),flagClass:n.flagAnimationClassName[1]},(function(){localStorage.setItem("guessed",JSON.stringify(n.state.guessed)),n.state.guessed.length===n.state.countriesArray.length&&n.setState({displayCelebration:!0}),n.getCountry()})):n.setState({currentScore:n.state.currentScore+a,currentScoreClass:s,announce:"Nope!",announceClass:j("final","no")})},n.handleFeatureGuess=function(e,t){n.changeCurrentScore(n.useHintScore),("continent"===e?t===n.state.country.region.toLowerCase():n.state.country[e].some((function(e){return e.name.toLowerCase()===t})))?n.setState({announce:"Yes",announceClass:j("feature","yes")}):n.setState({announce:"No",announceClass:j("feature","no")})},n.handleGiveup=function(){n.setState({totalScore:n.state.totalScore+n.useHintScore,currentScore:100,countryInputVal:"",languageInputVal:"",currencyInputVal:"",flagClass:n.flagAnimationClassName[1]}),n.getCountry()},n.handleReset=function(){n.setState({guessed:[],currentScoreClass:"",totalScore:0,totalScoreClass:"",announceClass:"",countryInputVal:"",languageInputVal:"",currencyInputVal:"",countClass:"",displayCelebration:!1}),n.getCountry(),localStorage.setItem("guessed","[]")},n.handleInputChange=function(e,t){var a={};a["".concat(t,"InputVal")]=e,n.setState(a)},n.changeCurrentScore=function(e){n.setState((function(t){return{currentScore:t.currentScore+e,currentScoreClass:n.scoreAnimationClassName[0]}}))},n.removeAnnounceClass=function(){var e=n.state.announceClass.split(" ");n.setState({announceClass:e[1]+" "+e[2]})},n.handleScoreAnimationStop=function(){n.state.countClass.includes("increment")?n.setState({countClass:""}):(n.state.currentScoreClass.includes("move")&&n.setState({currentScoreClass:"",totalScore:n.state.totalScore+n.state.currentScore,totalScoreClass:n.scoreAnimationClassName[0]}),n.state.currentScoreClass.includes("increment")&&n.setState({currentScoreClass:""}),n.state.totalScoreClass.includes("increment")&&n.setState({totalScoreClass:""}))},n.removeScoreClass=function(){return n.setState({currentScoreClass:""})},n.hideCelebration=function(){return n.setState({displayCelebration:!1})},n.toggleInstructions=function(){return n.setState({displayInstructions:!n.state.displayInstructions})},n.wrongGuessScore=-10,n.useHintScore=-5,n.seeOptionsScore=-20,n.scoreAnimationClassName=["animation--increment","animation--move"],n.flagAnimationClassName=["flag__animation--appear","flag__animation--disappear"],n.optionsAnimationClassName="input__show-options",n.newGameDelay=2e3,n}return Object(i.a)(a,[{key:"render",value:function(){var e={country:this.state.countryInputVal,language:this.state.languageInputVal,currency:this.state.currencyInputVal};return 0===this.state.guessed.length&&localStorage.setItem("guessed",[]),this.state.country?s.a.createElement(s.a.Fragment,null,s.a.createElement(x,{toggleInstructions:this.toggleInstructions}),s.a.createElement(F,{display:this.state.displayInstructions,toggle:this.toggleInstructions}),s.a.createElement("div",{className:"content"},s.a.createElement(d,{announce:this.state.announce,announceClass:this.state.announceClass,removeAnnounceClass:this.removeAnnounceClass,src:this.state.country.flag,flagClass:this.state.flagClass,current:this.state.currentScore,currentScoreClass:this.state.currentScoreClass,handleScoreAnimationStop:this.handleScoreAnimationStop,total:this.state.totalScore,totalScoreClass:this.state.totalScoreClass,count:this.state.guessed.length,countClass:this.state.countClass,allGamesNum:this.state.countriesArray.length}),s.a.createElement(w,{handleSubmit:this.handleSubmit,handleGiveup:this.handleGiveup,handleReset:this.handleReset,changeScore:this.changeCurrentScore,seeOptionsScore:this.seeOptionsScore,country:this.state.country,countriesArray:this.state.countriesArray,inputVal:e,handleInputChange:this.handleInputChange})),s.a.createElement(k,{display:this.state.displayCelebration,resetGame:this.handleReset,hideCelebration:this.hideCelebration})):s.a.createElement(V,null)}},{key:"componentDidMount",value:function(){var e=this;h.a.get("https://restcountries.eu/rest/v2/all?fields=name").then((function(t){var a=t.data.map((function(e){return e.name}));e.setState({countriesArray:a}),e.getCountry()}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.abafe96a.chunk.js.map